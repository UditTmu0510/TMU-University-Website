document.addEventListener("DOMContentLoaded",function(){let e=document.querySelectorAll(".filter-btn"),t=document.querySelectorAll(".gallery-item"),n=document.querySelector(".lightbox"),a=n?.querySelector("img"),i=document.querySelector(".lightbox-close"),l=document.querySelector(".lightbox-next"),s=document.querySelector(".lightbox-prev"),d=document.querySelector(".lightbox-caption"),r=0;e.forEach(n=>{n.addEventListener("click",()=>{e.forEach(e=>e.classList.remove("active")),n.classList.add("active");let a=n.getAttribute("data-filter");t.forEach(e=>{"all"===a||e.getAttribute("data-category")===a?e.style.display="block":e.style.display="none"})})}),t.forEach((e,t)=>{e.addEventListener("click",()=>{let i=e.querySelector("img").src,l=e.querySelector(".gallery-item-title").textContent;r=t,a.src=i,d.textContent=l,n.classList.add("active")})}),i?.addEventListener("click",()=>{n.classList.remove("active")}),n?.addEventListener("click",e=>{e.target===n&&n.classList.remove("active")});let o=()=>{let e=Array.from(t).filter(e=>"none"!==e.style.display);if(e.length>0){r=(r+e.length)%e.length;let n=e[r].querySelector("img").src,i=e[r].querySelector(".gallery-item-title").textContent;a.src=n,d.textContent=i}};l?.addEventListener("click",()=>{r++,o()}),s?.addEventListener("click",()=>{r--,o()})}),function(){var e=function(e){this.element=e,this.datesContainer=this.element.getElementsByClassName("cd-h-timeline__dates")[0],this.line=this.datesContainer.getElementsByClassName("cd-h-timeline__line")[0],this.fillingLine=this.datesContainer.getElementsByClassName("cd-h-timeline__filling-line")[0],this.date=this.line.getElementsByClassName("cd-h-timeline__date"),this.selectedDate=this.line.getElementsByClassName("cd-h-timeline__date--selected")[0],this.dateValues=function e(t){for(var n=[],a=0;a<t.date.length;a++){var i=t.date[a].getAttribute("data-date").split("T");if(i.length>1)var l=i[0].split("/"),s=i[1].split(":");else if(i[0].indexOf(":")>=0)var l=["2000","0","0"],s=i[0].split(":");else var l=i[0].split("/"),s=["0","0"];var d=new Date(l[2],l[1]-1,l[0],s[0],s[1]);n.push(d)}return n}(this),this.minLapse=function e(t){for(var n=[],a=1;a<t.dateValues.length;a++){var i=s(t.dateValues[a-1],t.dateValues[a]);i>0&&n.push(i)}return n.length>0?Math.min.apply(null,n):864e5}(this),this.navigation=this.element.getElementsByClassName("cd-h-timeline__navigation"),this.contentWrapper=this.element.getElementsByClassName("cd-h-timeline__events")[0],this.content=this.contentWrapper.getElementsByClassName("cd-h-timeline__event"),this.eventsMinDistance=60,this.eventsMaxDistance=200,this.translate=0,this.lineLength=0,this.oldDateIndex=Util.getIndexInArray(this.date,this.selectedDate),this.newDateIndex=this.oldDateIndex,function e(t){for(var a=0,i=0;i<t.dateValues.length;i++){var d=0==i?0:i-1,r=(Math.round(s(t.dateValues[d],t.dateValues[i])/t.minLapse)+2)*t.eventsMinDistance;r<t.eventsMinDistance?r=t.eventsMinDistance:r>t.eventsMaxDistance&&(r=t.eventsMaxDistance),a+=r,t.date[i].setAttribute("style","left:"+a+"px")}t.line.style.width=a+t.eventsMinDistance+"px",t.lineLength=a+t.eventsMinDistance,Util.addClass(t.element,"cd-h-timeline--loaded"),n(t,t.selectedDate),l(t,"next")}(this),function e(i){var l=i;l.navigation[0].addEventListener("click",function(e){e.preventDefault(),t(l,"prev")}),l.navigation[1].addEventListener("click",function(e){e.preventDefault(),t(l,"next")}),new SwipeContent(l.datesContainer),l.datesContainer.addEventListener("swipeLeft",function(e){t(l,"next")}),l.datesContainer.addEventListener("swipeRight",function(e){t(l,"prev")});for(var s=0;s<l.date.length;s++)!function(e){l.date[e].addEventListener("click",function(e){e.preventDefault(),n(l,e.target)}),l.content[e].addEventListener("animationend",function(t){e==l.newDateIndex&&l.newDateIndex!=l.oldDateIndex&&a(l)})}(s)}(this)};function t(e,t){var n=e.datesContainer.offsetWidth;t&&(e.translate="next"==t?e.translate-n+e.eventsMinDistance:e.translate+n-e.eventsMinDistance),0-e.translate>e.lineLength-n&&(e.translate=n-e.lineLength),e.translate>0&&(e.translate=0),e.line.style.transform="translateX("+e.translate+"px)",0==e.translate?Util.addClass(e.navigation[0],"cd-h-timeline__navigation--inactive"):Util.removeClass(e.navigation[0],"cd-h-timeline__navigation--inactive"),e.translate==n-e.lineLength?Util.addClass(e.navigation[1],"cd-h-timeline__navigation--inactive"):Util.removeClass(e.navigation[1],"cd-h-timeline__navigation--inactive")}function n(e,t){var n,a,i,l;e.newDateIndex=Util.getIndexInArray(e.date,t),e.oldDateIndex=Util.getIndexInArray(e.date,e.selectedDate),Util.removeClass(e.selectedDate,"cd-h-timeline__date--selected"),Util.addClass(e.date[e.newDateIndex],"cd-h-timeline__date--selected"),e.selectedDate=e.date[e.newDateIndex],function e(t){for(var n=0;n<t.date.length;n++)n<t.newDateIndex?Util.addClass(t.date[n],"cd-h-timeline__date--older-event"):Util.removeClass(t.date[n],"cd-h-timeline__date--older-event")}(e),function e(t){if(t.newDateIndex>t.oldDateIndex)var n="cd-h-timeline__event--selected cd-h-timeline__event--enter-right",a="cd-h-timeline__event--leave-left";else if(t.newDateIndex<t.oldDateIndex)var n="cd-h-timeline__event--selected cd-h-timeline__event--enter-left",a="cd-h-timeline__event--leave-right";else var n="cd-h-timeline__event--selected",a="";Util.addClass(t.content[t.newDateIndex],n),t.newDateIndex!=t.oldDateIndex&&(Util.removeClass(t.content[t.oldDateIndex],"cd-h-timeline__event--selected"),Util.addClass(t.content[t.oldDateIndex],a),t.contentWrapper.style.height=t.content[t.newDateIndex].offsetHeight+"px")}(e),n=e,i=(a=window.getComputedStyle(n.selectedDate,null)).getPropertyValue("left"),l=a.getPropertyValue("width"),i=Number(i.replace("px",""))+Number(l.replace("px",""))/2,n.fillingLine.style.transform="scaleX("+i/n.lineLength+")"}function a(e){e.contentWrapper.style.height=null,Util.removeClass(e.content[e.newDateIndex],"cd-h-timeline__event--enter-right cd-h-timeline__event--enter-left"),Util.removeClass(e.content[e.oldDateIndex],"cd-h-timeline__event--leave-right cd-h-timeline__event--leave-left")}function i(e,t){var a="next"==t?e.newDateIndex+1:e.newDateIndex-1;a<0||a>=e.date.length||(n(e,e.date[a]),l(e,t))}function l(e,n){var a=Number(window.getComputedStyle(e.selectedDate,null).getPropertyValue("left").replace("px","")),i=e.datesContainer.offsetWidth;("next"==n&&a>=i-e.translate||"prev"==n&&a<=-e.translate)&&(e.translate=i/2-a,t(e,!1))}function s(e,t){return Math.round(t-e)}window.HorizontalTimeline=e;var d=document.getElementsByClassName("js-cd-h-timeline"),r=[];if(d.length>0){for(var o=0;o<d.length;o++)r.push(new e(d[o]));document.addEventListener("keydown",function(e){e.keyCode&&39==e.keyCode||e.key&&"arrowright"==e.key.toLowerCase()?c("next"):(e.keyCode&&37==e.keyCode||e.key&&"arrowleft"==e.key.toLowerCase())&&c("prev")})}function c(e){for(var t=0;t<r.length;t++)h(d[t])&&i(r[t],e)}function h(e){for(var t=e.offsetTop,n=e.offsetLeft,a=e.offsetWidth,i=e.offsetHeight;e.offsetParent;)t+=(e=e.offsetParent).offsetTop,n+=e.offsetLeft;return t<window.pageYOffset+window.innerHeight&&n<window.pageXOffset+window.innerWidth&&t+i>window.pageYOffset&&n+a>window.pageXOffset}}(),document.getElementById("sidebarToggle")?.addEventListener("click",function(){document.getElementById("main-sidebar").classList.toggle("show")}),document.getElementById("closeSidebar")?.addEventListener("click",function(){document.getElementById("main-sidebar").classList.remove("show")}),document.getElementById("sidebarToggle")?.addEventListener("click",function(){let e=document.getElementById("main-sidebar");e.classList.toggle("expanded"),this.classList.toggle("expanded")});